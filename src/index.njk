---
title: Bürgerinitiative Zukunft Bernöwe
layout: 'base.njk'
---

<section class="hero border-bottom">
  <div class="container flow">
    <div class="hero__content flow">
      <h1 class="section-title">Bürgerinitiative<br>Zukunft Bernöwe</h1>
      <p>
        Herzlich willkommen bei der Bürgerinitiative Zukunft Bernöwe! </p>
      <p>
Wir sind eine engagierte Gruppe von Dorfbewohnern, die sich ehrenamtlich für die Zukunft unserer Heimat einsetzen. Als Bürgerinitiative organisieren wir gemeinschaftliche Veranstaltungen, Aktionen und Projekte, die das Dorfleben bereichern und die Gemeinschaft stärken. Machen Sie mit und helfen Sie uns dabei, Bernöwe zu einem noch lebenswerteren Ort zu machen.       </p>
    </div>
    <div class="hero-image-container">
      <a href="{{ '/assets/Sommerfest_2025_Bernoewe.png' | asset }}">{% image "/assets/Sommerfest_2025_Bernoewe_thumb.png", "Sommerfest Bernöwe 2025", "hero__image", "100vw", "eager", "high" %}</a>
    </div>
  </div>
</section>

<section id="termine" class="section bg-gradient-primary border-bottom">
  <div class="container">
    <h2 class="section-title text-center" id="termine-headline">Termine <span id="current-year">2025</span></h2>
    <p class="text-center">Alle wichtigen Veranstaltungen und Termine der Bürgerinitiative Zukunft Bernöwe</p>
    
    <div class="timeline">
      <div class="vertical-line"></div>
      <div class="timeline-event" data-date="2025-08-02" data-time="11:00">
        <div class="timeline-date">
          <div class="date-bubble">
            <span class="day">02</span>
            <span class="month">Aug</span>
          </div>
          <div class="time-info">11:00 Uhr</div>
        </div>
        <div class="timeline-content card">
          <h3 class="card__title">Ernte Dank Olympiade</h3>
          <a href="/blog/2025-08-02-olympiade/" class="btn btn--primary btn--small">Mehr Details</a>
        </div>
      </div>

      <div class="timeline-event" data-date="2025-08-02" data-time="14:00">
        <div class="timeline-date">
          <div class="date-bubble">
            <span class="day">02</span>
            <span class="month">Aug</span>
          </div>
          <div class="time-info">14:00 Uhr</div>
        </div>
        <div class="timeline-content card">
          <h3 class="card__title">Sommerfest 🎉</h3>
          <a href="/blog/2025-06-26-sommerfest/" class="btn btn--primary btn--small">Mehr Details</a>
        </div>
      </div>

      <div class="timeline-event" data-date="2025-11-29" data-time="15:00">
        <div class="timeline-date">
          <div class="date-bubble">
            <span class="day">29</span>
            <span class="month">Nov</span>
          </div>
          <div class="time-info">Nachmittag</div>
        </div>
        <div class="timeline-content card">
          <h3 class="card__title">Glühweinfest</h3>
          <span class="btn btn--neutral btn--small disabled">Details folgen</span>
        </div>
      </div>
    </div>

    <div class="past-events-section">
      <button class="show-past-btn" onclick="togglePastEvents()">
        <span class="show-text">Vergangene Termine anzeigen</span>
        <span class="hide-text" style="display: none;">Vergangene Termine ausblenden</span>
        <span class="arrow">▼</span>
      </button>
      
      <div class="past-events" id="pastEvents" style="display: none;">
        <div class="timeline">
          <div class="vertical-line"></div>
          
          <div class="timeline-event past-event" data-date="2025-04-05" data-time="09:00">
            <div class="timeline-date">
              <div class="date-bubble past-bubble">
                <span class="day">05</span>
                <span class="month">Apr</span>
              </div>
              <div class="time-info">09:00 Uhr</div>
            </div>
            <div class="timeline-content card card--past">
              <h3 class="card__title">Dorfputz</h3>
              <a href="/blog/2025-04-05-dorfputz/" class="btn btn--neutral btn--small">Rückblick</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="ueber-bernoewe" class="section border-bottom">
  <div class="container">
    <h2 class="section-title text-center">Über Bernöwe</h2>
    <div class="location-content">
      <div class="location-info">
        <p>Bernöwe ist ein charmanter Ortsteil der Stadt Oranienburg in Brandenburg, etwa 35 Kilometer nördlich von Berlin gelegen. Unser kleines Dorf liegt direkt am beliebten Berlin-Kopenhagen-Radweg und bietet Radtouristen einen perfekten Rastplatz.</p>
        
        <div class="location-details">
          <div class="detail-item">
            <span class="detail-icon">📍</span>
            <div>
              <strong>Lage:</strong> Dorfplatz Bernöwe,<br>Bernöwer Str. 8, 16515 Oranienburg
              <button class="copy-icon-btn" onclick="copyAddressForNavigation()" title="Adresse für Navigation kopieren">
                <span class="copy-icon">📋</span>
              </button>
            </div>
          </div>
          <div class="detail-item">
            <span class="detail-icon">🚴</span>
            <div>
              <strong>Berlin-Kopenhagen-Radweg:</strong><br>
              Perfekter Rastplatz mit E-Bike-Ladestation
            </div>
          </div>
          <div class="detail-item">
            <span class="detail-icon">🚗</span>
            <div>
              <strong>Anfahrt:</strong><br>
              Ca. 35 km nördlich von Berlin
            </div>
          </div>
        </div>
      </div>
      
      <div class="map-container">
        <div id="map" class="interactive-map"></div>
      </div>
    </div>
  </div>
</section>

<section id="erfolge" class="section bg-gradient-primary border-bottom">
  <div class="container">
    <h2 class="section-title text-center">Unsere Erfolge</h2>
    <p class="text-center">Was wir als Dorfgemeinschaft bereits gemeinsam erreicht haben</p>
    
    <div class="card-grid achievements-cards">
      <div class="card">
        <div class="card-icon">🏛️</div>
        <h3 class="card__title">Dorfplatz</h3>
        <p class="card__content">Unser neuer Dorfplatz mit Granitpflaster, vier Linden, Beleuchtung und E-Bike-Ladestation wurde 2023 fertiggestellt. Mit einer Investition von 120.000€ ist das Herz von Bernöwe für Dorfbewohner und Radtouristen verschönert worden.</p>
      </div>
      
      <div class="card">
        <div class="card-icon">🔋</div>
        <h3 class="card__title">E-Bike Ladestation</h3>
        <p class="card__content">Für die vielen Radtouristen auf den Berlin-Kopenhagen-Radweg haben wir eine E-Bike-Ladestation eingerichtet. Diese moderne Ausstattung macht Bernöwe zu einer attraktiven Raststation für Elektroradfahrer.</p>
      </div>
      
      <div class="card">
        <div class="card-icon">🏨</div>
        <h3 class="card__title">Insektenhotel und Sitzbänke</h3>
        <p class="card__content">Unser Insektenhotel bietet für viele kleine Tiere einen Unterschlupf, auf den am Radweg platzierten Bänken können die Radwanderer bei einer Pause das Geschehen beobachten.</p>
      </div>
      
      <div class="card">
        <div class="card-icon">🎉</div>
        <h3 class="card__title">Sommerfest</h3>
        <p class="card__content">Bei unserem jährlichen Sommerfest haben alle Dorfbewohner und ihre Gäste Gelegenheit, gemeinsam zu feiern. Für das leibliche Wohl sorgt das Team vom „Flößer" in Bernöwe. Auch an die Kinder wird jedes Jahr gedacht, und musikalische Darbietungen dürfen natürlich auch nicht fehlen.</p>
      </div>
      
      <div class="card">
        <div class="card-icon">🍷</div>
        <h3 class="card__title">Glühweinfest</h3>
        <p class="card__content">Beim Glühweinfest können die Kinder des Ortes ihre Weihnachtswünsche an den großen beleuchteten Baum hängen, es ist immer ein besonders schöner Tag für die Kleinen. Für die Großen ist es ein gemütliches Beisammensein mit leckeren Getränken und süßen Überraschungen. Das Team vom „Flößer" sorgt für ausreichend Glühwein.</p>
      </div>
      
      <div class="card">
        <div class="card-icon">🧹</div>
        <h3 class="card__title">Frühjahrs- und Herbstputz</h3>
        <p class="card__content">Blumen pflanzen, Müll sammeln und das Ortsbild verschönern. Wenn Alle mit anpacken, kann man viel erreichen.</p>
      </div>
      
      <div class="card">
        <div class="card-icon">🏢</div>
        <h3 class="card__title">Gemeindezentrum</h3>
        <p class="card__content">Die BI.ZB hat erreicht, dass unser altes Feuerwehrgebäude erhalten bleibt, modernisiert wird und für uns Alle als Gemeindezentrum zur Verfügung stehen wird.</p>
      </div>
      
      <div class="card">
        <div class="card-icon">🔔</div>
        <h3 class="card__title">Der Glockenturm</h3>
        <p class="card__content">Um unseren Friedhof schöner zu gestalten und den Verstorbenen einen würdevollen Abschied zu gestalten, hatten wir den Wunsch, einen Glockenturm zu errichten. Gemeinsam mit vielen großzügigen Spendern konnten wir dieses Projekt erfolgreich umsetzen.</p>
      </div>
      
      <div class="card">
        <div class="card-icon">🚌</div>
        <h3 class="card__title">Bushaltestelle</h3>
        <p class="card__content">Eine größere und schöne Bushaltestelle für unseren Ort war ein Wunsch unserer Anwohner.</p>
      </div>
    </div>
  </div>
</section>

<section id="presse" class="section bg-gradient-primary border-bottom">
  <div class="container">
    <h2 class="section-title text-center">Presse-Artikel</h2>
    <p class="text-center">Die Bürgerinitiative Zukunft Bernöwe in den Medien</p>
    
    <div class="card-grid achievements-cards">
      <div class="card">
        <div class="card-icon">📰</div>
        <h3 class="card__title">Bernöwe: Neugestaltung des Dorfangers – ein Meilenstein für den kleinen Ort</h3>
        <p class="card__content">MAZ Online</p>
        <a href="https://www.maz-online.de/lokales/oberhavel/oranienburg/bernoewe-neugestaltung-des-dorfangers-ein-meilenstein-fuer-den-kleinen-ort-5SYTSPH4KJBOJNJ7AJOPOIH3IE.html" target="_blank" rel="noopener" class="btn btn--primary btn--small">Artikel lesen</a>
      </div>

      <div class="card">
        <div class="card-icon">📰</div>
        <h3 class="card__title">Luna möchte weiter lachen</h3>
        <p class="card__content">MAZ Online</p>
        <a href="https://www.maz-online.de/lokales/oberhavel/oranienburg/https-www-maz-online-delokalesoberhaveloranienburgluna-moechte-weiter-lachen-dreijaehrige-aus-34FL5V7YBZBAVDHR5MJNU4NM6Q.html" target="_blank" rel="noopener" class="btn btn--primary btn--small">Artikel lesen</a>
      </div>
      
      <div class="card">
        <div class="card-icon">📰</div>
        <h3 class="card__title">Dorffest in Bernöwe: DKMS-Registrierungsaktion für die schwerkranke Luna</h3>
        <p class="card__content">MAZ Online</p>
        <a href="https://www.maz-online.de/lokales/oberhavel/oranienburg/dorffest-in-bernoewe-dkms-registrierungsaktion-fuer-die-schwerkranke-luna-HVRMX4RHPZBFFJPGVEDG5SES3Q.html" target="_blank" rel="noopener" class="btn btn--primary btn--small">Artikel lesen</a>
      </div>
      
      <div class="card">
        <div class="card-icon">📰</div>
        <h3 class="card__title">Klein, aber fein – Bernöwes Herz wird verschönert</h3>
        <p class="card__content">Stadt Oranienburg</p>
        <a href="https://oranienburg.de/index.php?object=tx,2967.5&ModID=7&FID=2967.4206.1" target="_blank" rel="noopener" class="btn btn--primary btn--small">Artikel lesen</a>
      </div>

      <div class="card">
        <div class="card-icon">📰</div>
        <h3 class="card__title">Vorerst kein Spielplatz in Bernöwe</h3>
        <p class="card__content">MAZ Online</p>
        <a href="https://m.maz-online.de/amp/news/Lokales/Oberhavel/Oranienburg/Vorerst-kein-Spielplatz-in-Bernoewe" target="_blank" rel="noopener" class="btn btn--primary btn--small">Artikel lesen</a>
      </div>

      <div class="card">
        <div class="card-icon">📰</div>
        <h3 class="card__title">Bürgerinitiative erfolgreich für Bernöwe gekämpft</h3>
        <p class="card__content">MOZ</p>
        <a href="https://www.moz.de/lokales/oranienburg/buergerinitiative-erfolgreich-fuer-bernoewe-gekaempft-49043004.html?_XML=AMP" target="_blank" rel="noopener" class="btn btn--primary btn--small">Artikel lesen</a>
      </div>

      <div class="card">
        <div class="card-icon">📰</div>
        <h3 class="card__title">Es ist vollbracht: Schottische Glockenklänge in Bernöwe</h3>
        <p class="card__content">MAZ Online</p>
        <a href="https://m.maz-online.de/amp/news/Lokales/Oberhavel/Oranienburg/Es-ist-vollbracht-Schottische-Glockenklaenge-in-Bernoewe" target="_blank" rel="noopener" class="btn btn--primary btn--small">Artikel lesen</a>
      </div>

      <div class="card">
        <div class="card-icon">📰</div>
        <h3 class="card__title">Bürgerinitiative Bernöwer wollen einen Glockenturm</h3>
        <p class="card__content">MOZ</p>
        <a href="https://www.moz.de/lokales/oranienburg/buergerinitiative-bernoewer-wollen-einen-glockenturm-49150914.html?_XML=AMP" target="_blank" rel="noopener" class="btn btn--primary btn--small">Artikel lesen</a>
      </div>
      
      <div class="card">
        <div class="card-icon">📰</div>
        <h3 class="card__title">Bürgerinitiative will Bernöwe ansehnlicher gestalten</h3>
        <p class="card__content">Newstral</p>
        <a href="https://newstral.com/de/article/de/1119565733/b%C3%BCrgerinitiative-will-bern%C3%B6we-ansehnlicher-gestalten" target="_blank" rel="noopener" class="btn btn--primary btn--small">Artikel lesen</a>
      </div>
      
    </div>
  </div>
</section>

<style>
  
  .timeline {
    position: relative;
    max-width: 700px;
    margin: 3rem auto;
    padding: 0 1rem;
    /* Prevent layout shifts during dynamic content changes */
    contain: layout;
    min-height: 200px; /* Reserve minimum space */
  }
  
  .timeline-event {
    display: grid;
    grid-template-columns: 100px 1fr;
    gap: 3rem;
    margin-bottom: 3rem;
    /* Prevent layout shifts during dynamic updates */
    contain: layout style;
    min-height: 120px; /* Reserve minimum space for each event */
  }
  
  .timeline-event:last-child {
    margin-bottom: 0;
  }
  
  .vertical-line {
    position: absolute;
    top: 0;
    bottom: 0;
    left: calc(100px + 1rem);
    width: 2px;
    background: linear-gradient(180deg, var(--clr-primary-400), var(--clr-secondary-400));
    border-radius: 1px;
  }
  
  @media (max-width: 768px) {
    .timeline-event {
      grid-template-columns: 60px 1fr;
      gap: 1rem;
    }
    
    .vertical-line {
      left: calc(70px + 1rem);
    }
    
    .timeline-content {
      margin-left: 1rem;
    }
  }
  
  
  .timeline-date {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    grid-column: 1;
  }
  
  .date-bubble {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, var(--clr-primary-600), var(--clr-secondary-600));
    border-radius: 50%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: var(--clr-neutral-100);
    font-weight: var(--fw-600);
    box-shadow: var(--shadow-md);
    border: 3px solid var(--clr-neutral-100);
    z-index: 3;
    position: relative;
  }
  
  .date-bubble.featured-bubble {
    background: linear-gradient(135deg, var(--clr-secondary-600), var(--clr-primary-600));
    border: 3px solid var(--clr-primary-300);
    width: 65px;
    height: 65px;
  }
  
  .date-bubble .day {
    font-size: var(--fs-500);
    font-weight: var(--fw-700);
    line-height: 1;
  }
  
  .date-bubble .month {
    font-size: var(--fs-300);
    font-weight: var(--fw-500);
    line-height: 1;
    margin-top: -2px;
    text-transform: uppercase;
  }
  
  .time-info {
    font-size: 0.75rem;
    color: var(--clr-primary-600);
    font-weight: var(--fw-500);
    text-align: center;
    white-space: nowrap;
  }
  
  
  
  
  
  .btn.disabled {
    opacity: 0.6;
    cursor: not-allowed;
    pointer-events: none;
  }
  
  .btn--small {
    padding: 0.5rem 1rem;
    font-size: var(--fs-300);
    width: 100%;
    text-align: center;
  }
  
  .past-events-section {
    margin-top: 3rem;
    text-align: center;
    /* Prevent layout shifts when showing/hiding past events */
    contain: layout;
  }
  
  .show-past-btn {
    background: none;
    border: 2px solid var(--clr-neutral-300);
    color: var(--clr-neutral-600);
    padding: 0.75rem 1.5rem;
    border-radius: var(--border-radius-md);
    cursor: pointer;
    font-size: var(--fs-400);
    font-weight: var(--fw-500);
    transition: all 0.3s ease-in-out;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
  }
  
  .show-past-btn:hover {
    border-color: var(--clr-neutral-400);
    color: var(--clr-neutral-700);
    background-color: var(--clr-neutral-50);
  }
  
  .show-past-btn .arrow {
    transition: transform 0.3s ease-in-out;
  }
  
  .show-past-btn.expanded .arrow {
    transform: rotate(180deg);
  }
  
  .past-events {
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid var(--clr-neutral-200);
  }
  
  
  
  .date-bubble.past-bubble {
    background: linear-gradient(135deg, var(--clr-neutral-400), var(--clr-neutral-500));
    border-color: var(--clr-neutral-200);
  }
  
  .no-events-message {
    text-align: center;
    padding: 3rem 2rem;
    color: var(--clr-neutral-600);
    font-style: italic;
    grid-column: 1 / -1;
  }
  
  .no-events-message p {
    font-size: var(--fs-500);
    margin: 0;
  }
  
  .achievements-cards .card {
    text-align: center;
    border: 2px solid var(--clr-neutral-200);
    border-radius: var(--border-radius-xl);
    padding: 2.5rem;
    box-shadow: var(--shadow-md);
    position: relative;
    overflow: hidden;
  }
  
  .achievements-cards .card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--clr-primary-500), var(--clr-secondary-500));
  }
  
  .achievements-cards .card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-xl);
    border-color: var(--clr-primary-300);
  }

  .achievements-cards .card .btn {
    margin-top: 1rem;
    display: block;
    width: 100%;
    text-decoration: none;
    text-align: center;
  }
  
  @media (min-width: 800px) {
    .timeline-content.card {
      display: flex;
      flex-direction: row;
      align-items: baseline;
      gap: 1rem;
    }
    
    .timeline-content.card .card__title {
      flex: 1;
      text-align: left;
    }
    
    .btn--small {
      width: auto;
      margin-left: 0;
      white-space: nowrap;
      flex-shrink: 0;
    }
  }
  
  /* Location Section Styles */
  .location-content {
    display: grid;
    gap: 3rem;
    margin-top: 2rem;
  }
  
  @media (min-width: 768px) {
    .location-content {
      grid-template-columns: 1fr 1fr;
      align-items: stretch;
    }
  }
  
  .location-info p {
    font-size: var(--fs-500);
    line-height: 1.6;
    color: var(--clr-neutral-700);
    margin-bottom: 1.5rem;
  }
  
  .location-details {
    display: grid;
    gap: 1rem;
    margin-top: 2rem;
  }
  
  .detail-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.5rem;
    background: var(--clr-neutral-50);
    border-radius: var(--border-radius-lg);
    border-left: 4px solid var(--clr-primary-500);
  }
  
  .detail-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
  }
  
  .detail-item div {
    color: var(--clr-neutral-700);
    line-height: 1.4;
  }
  
  .detail-item strong {
    color: var(--clr-neutral-900);
    font-weight: var(--fw-600);
  }
  
  .copy-icon-btn {
    background: none;
    border: none;
    padding: 0.25rem;
    cursor: pointer;
    border-radius: var(--border-radius-sm);
    transition: all 0.2s ease;
    display: inline-flex;
    align-items: center;
    vertical-align: baseline;
  }
  
  .copy-icon-btn:hover {
    background-color: var(--clr-neutral-100);
    transform: scale(1.15);
  }
  
  .copy-icon-btn:active {
    background-color: var(--clr-neutral-200);
  }
  
  .copy-icon-btn.copied {
    background-color: var(--clr-secondary-100);
  }
  
  .copy-icon {
    font-size: 1rem;
    transition: background-color 0.2s ease, color 0.2s ease;
    display: block;
    width: 1rem;
    height: 1rem;
    text-align: center;
  }
  
  .map-container {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    height: 100%;
  }
  
  @media (min-width: 768px) {
    .map-container {
      justify-content: space-between;
    }
  }
  
  .interactive-map {
    width: 100%;
    height: 400px;
    border-radius: var(--border-radius-lg);
    border: 2px solid var(--clr-neutral-200);
    box-shadow: var(--shadow-md);
  }
  
  @media (min-width: 768px) {
    .interactive-map {
      flex: 1;
      height: auto;
      min-height: 350px;
    }
  }
  
  
  /* Custom map marker styles */
  .custom-marker {
    background: none;
    border: none;
  }
  
  .marker-pin {
    width: 30px;
    height: 30px;
    background: linear-gradient(135deg, var(--clr-primary-600), var(--clr-secondary-600));
    border-radius: 50% 50% 50% 0;
    transform: rotate(-45deg);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--shadow-md);
    border: 2px solid var(--clr-neutral-100);
  }
  
  .marker-icon {
    transform: rotate(45deg);
    font-size: 1rem;
  }
  
  /* Map popup styles */
  .map-popup {
    text-align: center;
    padding: 0.5rem;
  }
  
  .map-popup strong {
    color: var(--clr-primary-700);
    font-weight: var(--fw-600);
  }
  
  .map-popup small {
    color: var(--clr-neutral-600);
    font-size: 0.875rem;
  }

</style>

<script>
// Cache DOM elements to prevent repeated queries
let cachedElements = null;

function getCachedElements() {
  if (!cachedElements) {
    cachedElements = {
      pastEvents: document.getElementById('pastEvents'),
      showPastBtn: document.querySelector('.show-past-btn'),
      showText: document.querySelector('.show-past-btn .show-text'),
      hideText: document.querySelector('.show-past-btn .hide-text'),
      upcomingTimeline: document.querySelector('#termine .timeline'),
      pastEventsContainer: document.querySelector('#pastEvents .timeline'),
      pastEventsSection: document.querySelector('.past-events-section')
    };
  }
  return cachedElements;
}

function togglePastEvents() {
  const elements = getCachedElements();
  
  // Batch DOM reads first
  const isHidden = elements.pastEvents.style.display === 'none';
  
  // Batch DOM writes using requestAnimationFrame to prevent reflow
  requestAnimationFrame(() => {
    if (isHidden) {
      elements.pastEvents.style.display = 'block';
      elements.showPastBtn.classList.add('expanded');
      elements.showText.style.display = 'none';
      elements.hideText.style.display = 'inline';
    } else {
      elements.pastEvents.style.display = 'none';
      elements.showPastBtn.classList.remove('expanded');
      elements.showText.style.display = 'inline';
      elements.hideText.style.display = 'none';
    }
  });
}

// Event Management System - Optimized to prevent forced reflows
function manageEvents() {
  const now = new Date();
  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
  const elements = getCachedElements();
  
  // Batch all DOM reads first to prevent layout thrashing
  const allEvents = Array.from(elements.upcomingTimeline.querySelectorAll('.timeline-event:not(.past-event)'));
  const existingNoEventsMessage = document.getElementById('no-events-message');
  
  let nextEventDate = null;
  const eventsToMove = [];
  const upcomingEvents = [];
  const domUpdates = []; // Batch all DOM writes
  
  // First pass: identify past events and find next event date (DOM reads only)
  allEvents.forEach(event => {
    const dateStr = event.getAttribute('data-date');
    const timeStr = event.getAttribute('data-time') || '00:00';
    
    if (dateStr) {
      const eventDateTime = new Date(`${dateStr}T${timeStr}:00`);
      const eventDate = new Date(eventDateTime.getFullYear(), eventDateTime.getMonth(), eventDateTime.getDate());
      
      if (eventDate < today) {
        eventsToMove.push({ event, eventDateTime });
      } else {
        upcomingEvents.push({ event, date: eventDate, dateStr });
        if (!nextEventDate || eventDate < nextEventDate) {
          nextEventDate = eventDate;
        }
      }
    }
  });
  
  // Sort past events by date (most recent first)
  eventsToMove.sort((a, b) => b.eventDateTime - a.eventDateTime);
  
  // Prepare DOM updates for upcoming events highlighting
  upcomingEvents.forEach(({ event, date }) => {
    if (nextEventDate && date.getTime() === nextEventDate.getTime()) {
      domUpdates.push(() => {
        const bubble = event.querySelector('.date-bubble');
        const card = event.querySelector('.card');
        bubble.classList.add('featured-bubble');
        card.classList.add('card--featured');
      });
    }
  });
  
  // Prepare DOM updates for past events styling
  eventsToMove.forEach(({ event }) => {
    domUpdates.push(() => {
      const bubble = event.querySelector('.date-bubble');
      const card = event.querySelector('.card');
      const btn = event.querySelector('.btn--primary');
      
      bubble.classList.remove('featured-bubble');
      bubble.classList.add('past-bubble');
      card.classList.remove('card--featured');
      card.classList.add('card--past');
      
      if (btn && !btn.classList.contains('disabled')) {
        btn.classList.remove('btn--primary');
        btn.classList.add('btn--neutral');
        if (btn.textContent === 'Mehr Details') {
          btn.textContent = 'Rückblick';
        }
      }
      
      event.classList.add('past-event');
    });
  });
  
  // Prepare DOM fragment for batch appendChild operations
  const pastEventFragment = document.createDocumentFragment();
  eventsToMove.forEach(({ event }) => {
    pastEventFragment.appendChild(event);
  });
  
  // Get existing past events for re-sorting
  const existingPastEvents = Array.from(elements.pastEventsContainer.querySelectorAll('.timeline-event'));
  const allPastEventsData = [...existingPastEvents, ...eventsToMove.map(e => e.event)]
    .map(event => ({
      event,
      date: new Date(`${event.getAttribute('data-date')}T${event.getAttribute('data-time') || '00:00'}:00`)
    }))
    .sort((a, b) => b.date - a.date);
  
  // Prepare final DOM updates
  const remainingUpcomingCount = upcomingEvents.length;
  
  // Execute all DOM writes in a single requestAnimationFrame
  requestAnimationFrame(() => {
    // Apply all styling updates
    domUpdates.forEach(update => update());
    
    // Move events to past events section (single batch operation)
    if (pastEventFragment.children.length > 0) {
      elements.pastEventsContainer.appendChild(pastEventFragment);
    }
    
    // Re-sort all past events (batch operation)
    allPastEventsData.forEach(({ event }) => {
      elements.pastEventsContainer.appendChild(event);
    });
    
    // Handle no events message
    if (remainingUpcomingCount === 0) {
      if (!existingNoEventsMessage) {
        const messageDiv = document.createElement('div');
        messageDiv.id = 'no-events-message';
        messageDiv.className = 'no-events-message';
        messageDiv.innerHTML = '<p>Aktuell keine anstehenden Termine</p>';
        elements.upcomingTimeline.appendChild(messageDiv);
      }
    } else if (existingNoEventsMessage) {
      existingNoEventsMessage.remove();
    }
    
    // Update past events section visibility
    const hasPastEvents = allPastEventsData.length > 0;
    elements.pastEventsSection.style.display = hasPastEvents ? 'block' : 'none';
  });
}

// Native browser smooth scrolling with CSS scroll-behavior handles anchor links automatically

// OpenStreetMap Integration
function initializeMap() {
  // Check if map container exists
  const mapContainer = document.getElementById('map');
  if (!mapContainer) return;
  
  // Bernöwe coordinates (exact location)  
  const bernoeweCoords = [52.814117, 13.337153];
  
  // Create map
  const map = L.map('map', {
    center: bernoeweCoords,
    zoom: 15,
    scrollWheelZoom: false, // Prevent accidental scrolling
    zoomControl: true
  });
  
  // Add OpenStreetMap tiles
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
    maxZoom: 19
  }).addTo(map);
  
  // Custom marker icon for Dorfplatz
  const dorfplatzIcon = L.divIcon({
    className: 'custom-marker',
    html: '<div class="marker-pin"><span class="marker-icon">🏛️</span></div>',
    iconSize: [30, 30],
    iconAnchor: [15, 15]
  });
  
  // Add marker for Dorfplatz
  const dorfplatzMarker = L.marker(bernoeweCoords, { icon: dorfplatzIcon }).addTo(map);
  dorfplatzMarker.bindPopup(`
    <div class="map-popup">
      <strong>Dorfplatz Bernöwe</strong><br>
      <small>Herz unseres Ortes mit E-Bike-Ladestation</small>
    </div>
  `);
  
  
  // Enable scroll wheel zoom when map is clicked
  map.on('click', function() {
    map.scrollWheelZoom.enable();
  });
  
  // Disable scroll wheel zoom when mouse leaves map
  map.on('mouseout', function() {
    map.scrollWheelZoom.disable();
  });
}

// Copy address for navigation
function copyAddressForNavigation() {
  const address = "Bernöwer Str. 8, 16515 Oranienburg";
  const textToCopy = address;
  
  // Try to use the modern Clipboard API
  if (navigator.clipboard && window.isSecureContext) {
    navigator.clipboard.writeText(textToCopy).then(() => {
      showCopySuccess();
    }).catch(() => {
      // Fallback to older method
      fallbackCopyText(textToCopy);
    });
  } else {
    // Fallback for older browsers or non-HTTPS
    fallbackCopyText(textToCopy);
  }
}

function fallbackCopyText(text) {
  const textArea = document.createElement('textarea');
  textArea.value = text;
  textArea.style.position = 'fixed';
  textArea.style.left = '-999999px';
  textArea.style.top = '-999999px';
  document.body.appendChild(textArea);
  textArea.focus();
  textArea.select();
  
  try {
    document.execCommand('copy');
    showCopySuccess();
  } catch (err) {
    console.error('Failed to copy text:', err);
    // Silent fail - just log the error
  } finally {
    document.body.removeChild(textArea);
  }
}

function showCopySuccess() {
  const btn = document.querySelector('.copy-icon-btn');
  const icon = btn.querySelector('.copy-icon');
  
  // Show success state
  btn.classList.add('copied');
  icon.textContent = '✓';
  
  // Reset after 1.5 seconds
  setTimeout(() => {
    btn.classList.remove('copied');
    icon.textContent = '📋';
  }, 1500);
}

// Load Leaflet CSS and JS, then initialize map
function loadMapResources() {
  // Load Leaflet CSS
  const leafletCSS = document.createElement('link');
  leafletCSS.rel = 'stylesheet';
  leafletCSS.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';
  leafletCSS.integrity = 'sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=';
  leafletCSS.crossOrigin = '';
  document.head.appendChild(leafletCSS);
  
  // Load Leaflet JS
  const leafletJS = document.createElement('script');
  leafletJS.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';
  leafletJS.integrity = 'sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=';
  leafletJS.crossOrigin = '';
  leafletJS.onload = initializeMap;
  document.head.appendChild(leafletJS);
}

// Initialize everything when DOM is ready
document.addEventListener('DOMContentLoaded', function() {
  // Update headline with current year
  const currentYear = new Date().getFullYear();
  const yearElement = document.getElementById('current-year');
  if (yearElement) {
    yearElement.textContent = currentYear;
  }
  
  // Check if we're on a page with a map and load resources
  if (document.getElementById('map')) {
    loadMapResources();
  }
  
  // Defer event management to prevent layout shifts during initial load
  setTimeout(() => {
    requestAnimationFrame(() => {
      manageEvents();
    });
  }, 100);
});
</script>